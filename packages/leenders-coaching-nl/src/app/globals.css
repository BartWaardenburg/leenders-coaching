@import 'tailwindcss';

/* Class-based dark mode */
@custom-variant dark (&:where(.dark, .dark *));

/* Design tokens */
@theme {
  --font-montserrat:
    'var(--font-montserrat)', ui-sans-serif, system-ui, sans-serif;
  --font-playfair: 'var(--font-playfair)', ui-serif, Georgia, serif;

  /* Base colors */
  --color-background: hsl(0 0% 100%);
  --color-menu-background: hsl(20 100% 95.7%);
  --color-menu-background-dark: hsl(20 15% 8%);
  --color-foreground: hsl(24 25% 15%);
  --color-primary: hsl(24 59% 45%);
  --color-secondary: hsl(20 30% 96%);
  --color-accent: hsl(20 63% 82%);
  --color-muted: hsl(20 20% 96%);
  --color-muted-foreground: hsl(24 15% 40%);
  --color-border: hsl(20 15% 90%);
  --color-input: hsl(20 15% 90%);
  --color-ring: hsl(24 25% 15%);

  /* Feedback colors */
  --color-destructive: hsl(0 84% 60%);
  --color-destructive-foreground: hsl(0 0% 98%);

  /* Pastel colors */
  --color-pastel-blue: #f0f8ff;
  --color-pastel-blue-dark: #1a2b42;
  --color-pastel-purple: #f8f0ff;
  --color-pastel-purple-dark: #2b1a42;
  --color-pastel-green: #f0fff0;
  --color-pastel-green-dark: #1a421a;
  --color-pastel-pink: #fff0f8;
  --color-pastel-pink-dark: #421a2b;
  --color-pastel-yellow: #fff8f0;
  --color-pastel-yellow-dark: #422b1a;
  --color-pastel-teal: #e0ffff;
  --color-pastel-teal-dark: #1a4242;

  /* Soft pastel colors using color-mix */
  --color-pastel-blue-soft: color-mix(
    in oklch,
    var(--color-pastel-blue) 35%,
    white
  );
  --color-pastel-purple-soft: color-mix(
    in oklch,
    var(--color-pastel-purple) 35%,
    white
  );
  --color-pastel-green-soft: color-mix(
    in oklch,
    var(--color-pastel-green) 35%,
    white
  );
  --color-pastel-pink-soft: color-mix(
    in oklch,
    var(--color-pastel-pink) 35%,
    white
  );
  --color-pastel-yellow-soft: color-mix(
    in oklch,
    var(--color-pastel-yellow) 35%,
    white
  );
  --color-pastel-teal-soft: color-mix(
    in oklch,
    var(--color-pastel-teal) 35%,
    white
  );

  /* Effects */
  --radius: 0.5rem;
}

/* Dark mode overrides */
.dark {
  --color-background: hsl(20 15% 8%);
  --color-menu-background: hsl(20 15% 8%);
  --color-menu-background-dark: hsl(20 15% 8%);
  --color-foreground: hsl(20 10% 98%);
  --color-secondary: hsl(24 25% 15%);
  --color-muted: hsl(24 25% 15%);
  --color-muted-foreground: hsl(20 10% 70%);
  --color-border: hsl(24 25% 20%);
  --color-input: hsl(24 25% 20%);
  --color-ring: hsl(20 10% 80%);
  --color-destructive: hsl(0 84% 65%);

  /* Soft pastel colors for dark mode - mix with dark background */
  --color-pastel-blue-soft: color-mix(
    in oklch,
    var(--color-pastel-blue-dark) 28%,
    var(--color-background)
  );
  --color-pastel-purple-soft: color-mix(
    in oklch,
    var(--color-pastel-purple-dark) 28%,
    var(--color-background)
  );
  --color-pastel-green-soft: color-mix(
    in oklch,
    var(--color-pastel-green-dark) 28%,
    var(--color-background)
  );
  --color-pastel-pink-soft: color-mix(
    in oklch,
    var(--color-pastel-pink-dark) 28%,
    var(--color-background)
  );
  --color-pastel-yellow-soft: color-mix(
    in oklch,
    var(--color-pastel-yellow-dark) 28%,
    var(--color-background)
  );
  --color-pastel-teal-soft: color-mix(
    in oklch,
    var(--color-pastel-teal-dark) 28%,
    var(--color-background)
  );
}

/* Base styles */
@layer base {
  * {
    border-color: var(--color-border);
    scrollbar-width: none;
    -ms-overflow-style: none;
  }

  *::-webkit-scrollbar {
    display: none;
  }

  body {
    background-color: var(--color-background);
    color: var(--color-foreground);
  }
}

/* Smooth scrolling */
html {
  scroll-behavior: smooth;
}

/* Reduced motion kill-switch - stops any stray CSS animations/transitions */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.001s !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.001s !important;
    scroll-behavior: auto !important;
  }
}

/* Text selection */
::selection {
  background-color: hsl(var(--color-primary) / 0.3);
  color: var(--color-foreground);
}

.dark ::selection {
  background-color: hsl(var(--color-primary) / 0.4);
  color: var(--color-foreground);
}

/* Focus outline */
*:focus-visible {
  outline: none;
  box-shadow:
    0 0 0 2px var(--color-background),
    0 0 0 4px hsl(var(--color-primary) / 0.6);
}

.dark *:focus-visible {
  box-shadow:
    0 0 0 2px var(--color-background),
    0 0 0 4px hsl(var(--color-primary) / 0.4);
}

/* Custom utilities */
@layer utilities {
  .transition-theme {
    transition-property:
      color, background-color, border-color, text-decoration-color, fill,
      stroke, background-image;
    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
    transition-duration: 500ms;
  }
}
